<!DOCTYPE html>
<html>
<head>
<title>Hunger Games</title>
</head>
<body>
<style>	
	
	* {
		color:cyan;
	}
	
	input, button, select, option {
		background-color:black;
		outline-color:cyan;
	}
	
	#start, #names, #stats, #day, #corn, #deaths, #winner, #summary {
		background-image:url("http://bestscreenwallpaper.pro/wp-content/uploads/2015/11/Logo-The-Hunger-Games-Mockingjay-Part-2.jpg");
		-webkit-background-size:cover;
		-moz-background-size:cover;
		background-size:cover;
	}
	
	#start {
		width:100%;
		height:100%;
		position:absolute;
		top:0;
		left:0;
		z-index:5;
	}
	
	#names {
		width:100%;
		height:100%;
		position:absolute;
		top:0;
		left:0;
		z-index:4;
	}
	
	#stats {
		width:100%;
		height:100%;
		position:absolute;
		top:0;
		left:0;
		text-align:center;
		z-index:3;
	}
	
	#day {
		width:100%;
		height:100%;
		position:absolute;
		top:0;
		left:0;
		text-align:center;
		z-index:1;
	}
	
	#corn {
		width:100%;
		height:100%;
		position:absolute;
		top:0;
		left:0;
		text-align:center;
		z-index:2;
	}
	
	#deaths, #winner, #summary {
		width:100%;
		height:100%;
		position:absolute;
		top:0;
		left:0;
		text-align:center;
		z-index:0;
		visibility:hidden;
	}
	
</style>
<div id="start">
<h1 id="heading">Welcome to the Hunger Games</h1>
<label>How many participants?
<input id="wow" type="text"/>
</label>
<br>
<label>Two champions allowed?
<input id="double" type="checkbox"/>
</label>
<br>
<br>
<button id="button" type="button">Confirm</button>
</div>

<div id="names">
<h1>Tribute Names</h1>
<button id="confirmNames" type="button">Confirm Names</button>
</div>

<div id="stats">
<h1>The Tributes</h1>
<button id="proceedOne" type="button">Proceed</button>
</div>

<div id="day">
<h2 id="dayNum">Day </h2>
<button id="proceedTwo" type="button">Proceed</button>
</div>

<div id="corn">
<h2>The Bloodbath</h2>
<button id = "proceedThree" type="button">Proceed</button>
</div>

<div id="deaths">
<h2 id="cannon"> cannon shots can be heard in the distance</h2>
<h2>The following tributes have fallen:</h2>
<button id="proceedFour" type="button">Proceed</button>
</div>

<div id="winner">
<h1>The Champion</h1>
<h2 id="declare"></h2>
<h2 id="champKills"></h2>
<button id="proceedFive" type="button">Proceed</button>
</div>

<div id="summary">
<h1>Summary</h1>
<button id="restart" type="button">New Hunger Games</button>
<button id="same" type="button">Use Same Names Again</button>
</div>

<script>
	var first = document.getElementById("start");
	//var num = document.getElementById("wow");
	var wow = document.getElementById("double");
	var press = document.getElementById("button");
	var stats = document.getElementById("stats");
	var names = document.getElementById("names");
	var mult, num;
	var allNames = [];
	var deathBools = [];
	var summary = [];
	var kills = [];
	var alreadyDead = [];
	var day = document.getElementById("day");
	var winner = document.getElementById("winner");
	var dayCounter = 0;
	var corn = document.getElementById("corn");
	var deaths = document.getElementById("deaths");
	var numDeaths = 0;
	var proPos = [];
	var finalSum = document.getElementById("summary");
	
	var weapons = 
	["landmine", 
	"bow", 
	"melee", 
	"paintball", 
	"basketball", 
	"octobrush", 
	"fidget spinner", 
	"assault rifle", 
	"frisbee",
	"tank"];
	
	var melee = 
	["sword",
	"knife",
	"golf club",
	"baseball bat",
	"stick",
	"potato",
	"shoe",
	"dead platypus",
	"65"];
	
	var itemsToFind = 
	["fruit tree",
	"poisonous fruit tree",
	"clean water",
	"clean coal",
	"clean Cole",
	"OCC vending machine",
	"wild Ohio Fried Chicken",
	"glasses that cure color-blindness",
	"bleach gummy bottle",
	"paintball",
	"used Band-Aid",
	"clean water",
	"pack of condoms",
	"tent",
	"biology textbook",
	"bucket of KFC",
	"tin of Donald Trump's bronzer",
	"Emoji Movie on laserdisc",
	"anthology of life-changing poems",
	"quenched and tempered steel",
	"VIP ticket to Tana Mojo concert",
	"unicorn",
	"spiritual enlightenment in a Villanova brochure"];
	
	var causeAndEffect = 
	["fruit tree",
	"eats fruit and gains one point in strength",
	"poisonous fruit tree",
	"eats a poisonous fruit",
	"clean water",
	"drinks clean water and gains one point in constitution",
	"clean coal",
	"uses coal to cook food",
	"clean Cole",
	"uses clean Cole as food",
	"OCC vending machine",
	"gets a tin of Altoids",
	"wild Ohio Fried Chicken",
	"random chicken",
	"glasses that cure color-blindness",
	"is no longer color-blind",
	"bleach gummy bottle",
	"eats bleach gummy bottle",
	"used Band-Aid",
	"random bandaid",
	"pack of condoms",
	"safe dating",
	"tent",
	"constructs a tent",
	"biology textbook",
	"reads a biology textbook and falls asleep",
	"bucket of KFC",
	"eats KFC",
	"tin of Donald Trump's bronzer",
	"becomes as orange as Donald Trump and dies of chemical poisoning",
	"Emoji Movie on laserdisc",
	"dies of pure cancer after watching the Emoji Movie",
	"anthology of life-changing poems",
	"life gets changed by poetry",
	"quenched and tempered steel",
	"constructs a geometrically stable truss",
	"VIP ticket to Tana Mojo concert",
	"gets assaulted by a toothbrush at Tana Mojo concert",
	"unicorn",
	"pets the pink fluffy unicorn",
	"spiritual enlightenment in a Villanova brochure",
	"sees the light and adheres to the all-boy advantage",
	"Agrawal star",
	"jealousy"];
	
	var killCauseAndEffect = [
	"landmine", 
	"random mine",
	"bow",
	"shoots",
	"melee",
	"kills",
	"paintball", 
	"brings one less paintball, so",
	"basketball", 
	"dunks on",
	"octobrush",
	"splats",
	"fidget spinner", 
	"spins fidget spinner fatally at",
	"assault rifle", 
	"shoots",
	"frisbee",
	"decapitates",
	"tank",
	"murders",
	"Lapras",
	"used Lapras"
	];
	
	var shelter = 
	["cave",
	"tree",
	"cardboard box",
	"geometrically stable truss",
	"House of the Seven Gables"];
	
	var cornucopia = [
	"run", 
	"supply", 
	"weapon", 
	"battle" 
	];
	
	var sponsor = 
	["empty box",
	"paintball",
	"used Band-Aid",
	"clean water",
	"pack of condoms",
	"tent",
	"biology textbook",
	"bucket of KFC",
	"tin of Donald Trump's bronzer",
	"Emoji Movie on laserdisc",
	"anthology of life-changing poems",
	"quenched and tempered steel",
	"VIP ticket to Tana Mojo concert",
	"Agrawal star"];
	
	var misc = 
	["wanders around",
	"picks flowers",
	"heils Hitler",
	"hails Hortler",
	"talks to",
	"drops a rant against",
	//"gains",
	"levels up",
	//"rolls",
	"sings us a song",
	"is the sheriff",
	"plays some pranks (GONE WRONG GONE SEXUAL)",
	"realizes maverick isn't all yellow",
	"loses the game",
	"cries",
	"has nightmares",
	"stabs asparagus",
	"runs out of ammunition",
	"is accused of mansplaining",
	"Disney star takes",
	"gets doxxed by keemstar",
	"hides in a river",
	"hides from",
	"eats",
	"attaches a measuring tape to a toaster",
	"gains Disney Channel flo"];
	
	var injury = [
	"gets a cold",
	"gets the flu",
	"gets mono",
	"gets strep throat",
	"loses 0.13 GPA points, and is severely injured",
	"is stung by BEES",
	"battles and wounds",
	"sends a mass mail",
	"goes deaf due to Jake Paul",
	"triggered",
	"gets carpal tunnel syndrome from playing osu",
	"gets osteoporosis",
	"gets crippling depression",
	"tries to break the fourth wall"];
	
	var injEffect = [
	"bow",
	"injures",
	"melee",
	"injures",
	"paintball",
	"gets hit by a paintball shot by",
	"basketball",
	"gets juked by",
	"octobrush",
	"wounds",
	"fidget spinner",
	"spins fidget spinner nonfatally at",
	"assault rifle",
	"shoots and grazes",
	"frisbee",
	"breaks",
	"Lapras",
	"used Lapras. It was super effective!"];
	
	var variousDeaths = [
	"strangles",
	"breaks",
	"dies of Ebola",
	"gets crushed by an unstable truss",
	"forgets to get the AED for",
	"gets burned to death from",
	"hangs",
	"decides to take a permanent nap",
	"falls off a cliff while playing Pokemon Go",
	"yells \"woag wiag wiag\" at",
	"gets nuked from orbit by",
	"chokes on crabapples in cheeks",
	"forgets how to breathe",
	"uses dank memes to kill",
	"navy seals",
	"unsafe dating"];
	
	var doubleDeath = [
	"strangles", 
	"forgets to get the AED for", 
	"gets nuked from orbit by", 
	"gets memed to death by"];
	
	var options = [
	"weapons", 
	"items", 
	"use", 
	"shelter", 
	"use",
	"misc", 
	"injury",
	"use",
	"death",
	"heal",
	"items",
	"use",
	"injury",
	"use"];
	
	
	
	var inum = itemsToFind.length;
	var wnum = weapons.length;
	var mnum = melee.length;
	var snum = shelter.length;
	var cnum = cornucopia.length;
	var spnum = sponsor.length;
	var minum = misc.length;
	
	var pro = [];
	var playerItems = [];
	var playerInj = [];
	
	var onClick = function(){
		mult = wow.checked;
		num = document.getElementById("wow").value;
		first.style.visibility = "hidden";
		pressed = false;
		
		for (var i=0; i<num; i++){
			var temp = document.createElement("div");
			var label = document.createElement("label");
			label.appendChild(document.createTextNode("Tribute name: "));
			var field = document.createElement("input");
			field.style.type = "text";
			field.className = "newNames";
			label.appendChild(field);
			var wowselect = document.createElement("select");
			wowselect.className = "wowselect";
			var male = document.createElement("option");
			male.value = "him";
			male.textContent = "M";
			var female = document.createElement("option");
			female.value = "her";
			female.textContent = "F";
			wowselect.appendChild(male);
			wowselect.appendChild(female);
			temp.appendChild(label);
			temp.appendChild(wowselect);
			temp.appendChild(document.createElement("br"));
			temp.appendChild(document.createElement("br"));
			names.insertBefore(temp, names.children[names.children.length-1]);
		} 
	};
	
	function registerNames(){
		allNames = [];
		pro = [];
		proPos = [];
		var fields = document.getElementsByClassName("newNames");
		var wowselect = document.getElementsByClassName("wowselect");
		
		for (var i=0; i<num; i++){
			allNames.push(fields[i].value);
			pro.push(wowselect[i].value);
			if (wowselect[i].value === "him"){
				proPos.push("his");
			}
			else {
				proPos.push(wowselect[i].value);
			}
			deathBools.push(true);
			alreadyDead.push(true);
			playerInj.push(true);
			kills.push(0);
			playerItems.push([]);
			var temp = document.createElement("div");
			var p = document.createElement("p");
			p.appendChild(document.createTextNode(allNames[i] + " ("));
			var span = document.createElement("span");
			span.appendChild(document.createTextNode("Alive"));
			span.style.color = "lime";
			span.className = "wowdead";
			p.appendChild(span);
			p.appendChild(document.createTextNode("): "));
			var spanTwo = document.createElement("span");
			spanTwo.appendChild(document.createTextNode("0 Kills"));
			spanTwo.className = "wowkills";
			p.appendChild(spanTwo);
			temp.appendChild(p);
			temp.id = allNames[i];
			temp.className = "champion";
			stats.appendChild(temp);
		}
		names.style.visibility = "hidden";
	}
	
	function deadHighlight(){
		var spans = document.getElementsByClassName("wowdead");
		
		for (var i=0; i<num; i++){
			if (!deathBools[i]){
				spans[i].textContent = "Dead";
				spans[i].style.color = "red";
			}
		}
	}
	
	function proceedToDay(){
		var checkForWinner = declareWinner();
		document.getElementById("dayNum").textContent = "Day " + dayCounter;
		if (checkForWinner){	
		}
		else if (dayCounter === 0){
			cornucopiaNow();
			dayCounter++;
		}
		else if (dayCounter === 1){
			simulateDay();
			dayCounter++;
		}
		else {
			dayClear();
			simulateDay();
			dayCounter++;
		}
	}
	
	function toDeaths(){
		var deathCounter = 0;
		var cannon = document.getElementById("cannon");
		console.log(numDeaths);
		
		numDeaths = 0;
		console.log(numDeaths);
		
		var temp = document.createElement("div");
		var p = document.createElement("p");
		
		for (var i=0; i<deathBools.length; i++){
			if (!deathBools[i] && alreadyDead[i]){
				deathCounter++;
				if (kills[i] === 1){
					p.appendChild(document.createTextNode(allNames[i] + ": 1 Kill"));
				}
				else {
					p.appendChild(document.createTextNode(allNames[i] + ": " + kills[i] + " Kills"));
				}
				p.appendChild(document.createElement("br"));
				alreadyDead[i] = false;
			}
		}
		
		cannon.textContent = deathCounter + " cannon shots can be heard in the distance";
		if (deathCounter === 1){
			cannon.textContent = "1 cannon shot can be heard in the distance";
		}
		
		temp.appendChild(p);
		deaths.insertBefore(temp, deaths.children[deaths.childElementCount-1]);
		corn.style.visibility = "hidden";
		day.style.visibility = "hidden";
		deaths.style.visibility = "visible";
	}
	
	function toStats(){
		var wowkills = document.getElementsByClassName("wowkills");
		deadHighlight();
		for (var i=0; i<kills.length; i++){
			if (kills[i] === 1){
				wowkills[i].textContent = "1 Kill";
			}
			else {
				wowkills[i].textContent = kills[i] + " Kills";
			}
		}
		deaths.removeChild(deaths.children[deaths.childElementCount-2]);
		deaths.style.visibility = "hidden";
		stats.style.visibility = "visible";
	}
	
	function simulateDay(){
		
		//day.style.visibility = "visible";
		//stats.style.visibility = "hidden";
		
		var done = [];
		var fates = [];
	
		for (var i=0; i<num; i++){
			if (deathBools[i]){
				done.push(false);
			}
			else {
				done.push(true);
			}
		}
		
		while(done.indexOf(false) != -1){
			var r = rand(num);
			while (done[r]){
				if (r === num-1){
					r = 0;
				}
				else {
					r++;
				}
			}
		
			done[r] = true;
			
			switch (options[rand(options.length)]){
				case "weapons": 
					console.log("weapons");
					var w = rand(wnum);
					var f = weapons[w].charAt(0);
					var article = "a";
					if (f === 'a' || f === 'e' || f === 'i' || f === 'o'){
						article += "n";
					}
					fates.push(allNames[r] + " stumbles upon " + article + " " + weapons[w]);
					playerItems[r].push(weapons[w]);
					if (weapons[w] === "melee"){
						w = rand(mnum);
						fates[fates.length-1] = allNames[r] + " stumbles upon " + melee[w];
						playerItems[r][playerItems[r].length-1] = melee[w];
					}
					break;
				case "items":
					console.log("items");
					var a = rand(2);
					if (a === 0){
						var q = rand(inum);
						var f = itemsToFind[q].charAt(0);
						var article = "a";
						if (f === 'a' || f === 'e' || f === 'i' || f === 'o'){
							article += "n";
						}
						fates.push(allNames[r] + " discovers " + article + " " + itemsToFind[q] + " lying on the ground.");
						playerItems[r].push(itemsToFind[q]);
						break;
					}
					else if (a === 1){
						var q = rand(spnum);
						var f = sponsor[q].charAt(0);
						var article = "a";
						if (f === 'a' || f === 'e' || f === 'i' || f === 'o'){
							article += "n";
						}
						fates.push(allNames[r] + " receives " + article + " " + sponsor[q] + " from a sponsor");
						playerItems[r].push(sponsor[q]);
						if (sponsor[q] === "empty box"){
							fates[fates.length-1] += ", because apparently the sponsor is a dick.";
						}
						else {
							fates[fates.length-1] += ".";
						}
						break;
					}
				case "use": 
					console.log("use");
					console.log(playerItems[r]);
					if (playerItems[r].length === 0){
						done[r] = false;
					}
					else {
						var a = playerItems[r][0];
						var aMelee;
						var b = killCauseAndEffect[killCauseAndEffect.indexOf(a) + 1];
						console.log(a);
						console.log(b);
						if (weapons.indexOf(a) != -1 || melee.indexOf(a) != -1){
							if (melee.indexOf(a) != -1){
								aMelee = a;
								a = "melee";
							}
							b = killCauseAndEffect[killCauseAndEffect.indexOf(a) + 1];
							var q = liveChampion(r);
							var fate = rand(2);
							if (a === "melee" && fate === 0){
								fates.push(allNames[r] + " " + b + " " + allNames[q] + " with a " + aMelee + ".");
							}
							else if (a === "melee" && fate === 1){
								injureTwo(r,q);
								if (!deathBools[q]){
									done[q] = true;
									fates.push(allNames[r] + " " + b + " " + allNames[q] + " with a " + aMelee + ".");
									summary.push(fates[fates.length-1]);
								}
								else {
									fates.push(allNames[r] + " almost whacks " + allNames[q] + " to death with a " + aMelee + ".");
								}
							}
							else if (b === "random mine" || fate === 0){
								if (b === "random mine"){
									console.log(b);
									var c = rand(2);
									if (c === 0){
										var s = liveChampion(r);
										if (s != q){
											fates.push(allNames[r] + " sets off a landmine that kills " + allNames[q] + " and " + allNames[s] + ".");
											deathBools[q] = false;
											deathBools[s] = false;
											done[q] = true;
											done[s] = true;
											kills[r] += 2;
										}
										else {
											fates.push(allNames[r] + " sets off a landmine that kills " + allNames[q] + ".");
											xKillsY(r,q);
											done[q] = true;
										}
									}
									else {
										fates.push(allNames[r] + " accidentally steps on " + proPos[r] + " own landmine.");
										numDeaths++;
										console.log(numDeaths);
										deathBools[r] = false;
									}
									console.log(fates[fates.length-1]);
								}
								else if (a === "frisbee"){
									fates.push(allNames[r] + " decapitates " + allNames[q] + " with a frisbee.");
									xKillsY(r,q);
									done[q] = true;
								}
								else if (a === "octobrush"){
									fates.push(allNames[r] + " splats " + allNames[q] + " with an octobrush.");
									xKillsY(r,q);
									done[q] = true;
								}
								else if (a === "paintball"){
									fates.push(allNames[r] + " " + b + " " + allNames[q] + " dies of needing paintballs.");
									xKillsY(r,q);
									done[q] = true;
								}
								else {
									fates.push(allNames[r] + " " + b + " " + allNames[q] + ".");
									xKillsY(r,q);
									done[q] = true;
								}
								summary.push(fates[fates.length-1]);
							}
							else if (fate === 1){
								var q = liveChampion(r);
								if (a === "frisbee"){
									injureTwo(r,q);
									if (!deathBools[q]){
										fates.push(allNames[r] + " fatally breaks " + allNames[q] + "\'s nose with a frisbee.");
										done[q] = true;
										summary.push(fates[fates.length-1]);
									}
									else {
										fates.push(allNames[r] + " breaks " + allNames[q] + "\'s nose with a frisbee.");
									}
								}
								else if (a === "Lapras"){
									injureTwo(r,q);
									if (!deathBools[q]){
										fates.push(allNames[r] + " " + b);
										done[q] = true;
										summary.push(fates[fates.length-1]);
									}
									else {
										fates.push(allNames[r] + " used Lapras. It was super effective! " + allNames[q] + " was injured.");
									}									
								}
								else {
									injureTwo(r,q);
									if (!deathBools[q]){
										fates.push(allNames[r] + " " + b);
										done[q] = true;
										summary.push(fates[fates.length-1]);
									}
									else {
										fates.push(allNames[r] + " " + injEffect[injEffect.indexOf(a)+1] + " " + allNames[q] + ".");
									}
								}
							}
						}
						else if (a === "House of the Seven Gables"){
							fates.push("The roof falls on " + allNames[r] + ".");
							deathBools[r] = false;
							numDeaths++;
							console.log(numDeaths);
							summary.push(fates[fates.length-1]);
						}
						else if (a === "Agrawal star"){
							var q = liveChampion(r);
							fates.push(allNames[r] + "\'s Agrawal star causes " + allNames[q] + " to die of jealousy.");
							deathBools[q] = false;
							done[q] = true;
							numDeaths++;
							kills[r]++;
							summary.push(fates[fates.length-1]);
						}
						else {
							var z = causeAndEffect[causeAndEffect.indexOf(a)];
							var y = causeAndEffect[causeAndEffect.indexOf(a)+1];
							if (z === "poisonous fruit tree" || z === "bleach gummy bottle" || z === "tin of Donald Trump's bronzer" || z === "Emoji Movie on laserdisc"){
								fates.push(allNames[r] + " " + y + ".");
								summary.push(fates[fates.length-1]);
								deathBools[r] = false;
								numDeaths++;
							}
							else if (y === "random chicken"){
								var x = rand(2);
								if (x === 0){
									fates.push(allNames[r] + " eats Ohio Fried Chicken.");
								}
								else if (x === 1){
									injureOne(r);
									if (!deathBools[r]){
										fates.push(allNames[r] + " dies of overeating Ohio Fried Chicken.");
										summary.push(fates[fates.length-1]);
									}
									else {
										fates.push(allNames[r] + " goes into a food coma from too much Ohio Fried Chicken.");
									}
								}
							}
							else if (y === "random bandaid"){
								if (!playerInj[r]){
									pleaseHeal(r);
									fates.push(allNames[r] + " heals " + pro[r] + "self with a used Band-Aid.");
								}
								else {
									fates.push(allNames[r] + " gets tetanus from a used Band-Aid and dies.");
									xDies(r);
									summary.push(fates[fates.length-1]);
								}
							}
							else if (y === "safe dating"){
								var q = liveChampion(r);
								fates.push(allNames[r] + " and " + allNames[q] + " practice safe dating.");
								playerInj[r] = true;
								playerInj[q] = true;
							}
							else {
								fates.push(allNames[r] + " " + y + ".");
							}
						}
						console.log(playerItems[r]);
						discardItem(r);;
					}
					break;
				case "shelter":
					console.log("shelter");
					var a = shelter[rand(shelter.length)];
					var b = rand(2);
					fates.push(allNames[r] + " finds a convenient " + a);
					if (b === 0 && a === "House of the Seven Gables"){
						playerItems[r].push(a);
					}
					if (b === 0){
						fates[fates.length-1] += " and decides to use it as shelter.";
					}
					else if (b === 1){
						fates[fates.length-1] += ", but decides it is too dangerous.";
					}
					break;
				case "misc":
					console.log("misc");
					var a = misc[rand(minum)];
					var q = liveChampion(r);
					if (a === "cries"){
						fates.push(allNames[r] + " cries " + pro[r] + "self to sleep.");
					}
					else if (a === "Disney star takes"){
						fates.push("A " + a + " " + allNames[r] + "\'s money.");
					}
					else if (a === "hides from"){
						fates.push(allNames[r] + " hides from " + allNames[q]);
					}
					else if (a === "eats"){
						if (deathBools.indexOf(false) === -1){
							fates.push(allNames[r] + " eats dirt.");
						}
					else if (a === "talks to"){
						fates.push(allNames[r] + " talks to " + allNames[q] + ".");
					}
					else if (a === "drops a rant against"){
						fates.push(allNames[r] + " drops a rant about " + allNames[q] + ".");
					}
						else {
							var d = rand(num);
							while (deathBools[d]){
								if (d === num-1){
									d = 0;
								}
								else {
									d++;
								}
							}
							fates.push(allNames[r] + " eats " + allNames[d] + "\'s dead body.");
						}
					}
					else {
						fates.push(allNames[r] + " " + a + ".");
					}
					break;
				case "injury":
					console.log("injury");
					var a = injury[rand(injury.length)];
					if (a === "triggered"){
						var q = liveChampion(r);
						injureTwo(q,r);
						fates.push(allNames[q] + " triggers " + allNames[r]);
						if (!deathBools[r]){
							fates[fates.length-1] += " to death.";
							summary.push(fates[fates.length-1]);
						}
						else {
							fates[fates.length-1] += ".";
						}
					}
					else if (a === "battles and wounds"){
						var q = liveChampion(r);
						injureTwo(r,q);
						if (!deathBools[q]){
							fates.push(allNames[r] + " battles and kills " + allNames[q] + ".");
							summary.push(fates[fates.length]);
						}
						else {
							fates.push(allNames[r] + " battles and wounds " + allNames[q] + ".");
						}
					}
					else {
						injureOne(r);
						if (!deathBools[r]){
							fates.push(allNames[r] + " " + a + " and dies.");
							summary.push(fates[fates.length-1]);
						}
						else {
							fates.push(allNames[r] + " " + a + ".");
						}
					}
					break;
				case "heal":
					console.log("heal");
					if (!playerInj[r]){
						playerInj[r] = true;
						fates.push(allNames[r] + " heals " + pro[r] + "self.");
					}
					else if (playerInj.indexOf(false) === -1){
						done[r] = false;
					}
					else {
						var q = rand(num);
						while (playerInj[q]){
							if (q === num-1){
								q = 0;
							}
							else {
								q++;
							}
						}
						playerInj[q] = true;
						fates.push(allNames[r] + " heals " + allNames[q] + ".");
					}
					break;
				case "death":
					console.log("death");
					var a = variousDeaths[rand(variousDeaths.length)];
					var q = liveChampion(r);
					if (a === "breaks"){
						fates.push(allNames[r] + " " + a + " " + allNames[q] + "\'s neck.");
						summary.push(fates[fates.length-1]);
						done[q] = true;
						xKillsY(r,q);
					}
					else if (a === "gets burned to death from"){
						fates.push(allNames[r] + " " + a + " " + allNames[q] + "\'s mixtape.");
						summary.push(fates[fates.length-1]);
						done[q] = true;
						xKillsY(q,r);
					}
					else if (a === "hangs"){
						fates.push(allNames[r] + " hangs " + pro[r] + "self after being friendzoned by " + allNames[q] + ".");
						summary.push(fates[fates.length-1]);
						xDies(r);
					}
					else if (a === "yells \"woag wiag wiag\" at"){
						fates.push(allNames[r] + " " + a + " " + allNames[q] + ", causing " + allNames[q] + " to drop dead.");
						summary.push(fates[fates.length-1]);
						done[q] = true;
						xKillsY(r,q);
					}
					else if (a === "navy seals"){
						fates.push(allNames[r] + " calls in the US Navy SEALS, who kill " + allNames[q]);
						s = liveChampion(r);
						if (s != q){
							fates[fates.length-1] += " and " + allNames[s];
							done[s] = true;
							xKillsY(r,s);
							summary.push(fates[fates.length-1]);
						}
						else {
							fates[fates.length-1] += ".";
							summary.push(fates[fates.length-1]);
						}
						done[q] = true;
						xKillsY(r,q);
					}
					else if (a === "unsafe dating"){
						var lol = playerItems[r].indexOf("pack of condoms");
						var lol2 = playerItems[q].indexOf("pack of condoms");
						if (lol != -1 || lol2 != -1){
							fates.push(allNames[r] + " and " + allNames[q] + " practice safe dating.");
							if (lol != -1){
								for (var i=lol; i<playerItems[r].length-1; i++){
									playerItems[r][i] = playerItems[r][i+1];
								}
								playerItems[r].pop();
							}
							if (lol2 != -1){
								for (var i=lol2; i<playerItems[q].length-1; i++){
									playerItems[q][i] = playerItems[q][i+1];
								}
								playerItems[q].pop();
							}
						}
						else {
							fates.push(allNames[r] + " and " + allNames[q] + " die of AIDS after practicing unsafe dating.");
							deathBools[r] = false;
							deathBools[q] = false;
							done[q] = true;
							summary.push(fates[fates.length-1]);
							playerInj[r] = true;
							playerInj[q] = true;
						}
					}
					else if (doubleDeath.indexOf(a) != -1){
						if (a === "gets nuked from orbit by"){
							fates.push(allNames[q] + " " + a + " " + allNames[r] + ".");
						}
						else {
							fates.push(allNames[r] + " " + a + " " + allNames[q] + ".");
						}
						summary.push(fates[fates.length-1]);
						done[q] = true;
						xKillsY(r,q);
					}
					else {
						fates.push(allNames[r] + " " + a + ".");
						summary.push(fates[fates.length-1]);
						xDies(r);
					}
			}
		}
		
		var temp = document.createElement("div");
		var par = document.createElement("p");
		
		while (fates.length > 0){
			par.appendChild(document.createTextNode(fates[0]));
			par.appendChild(document.createElement("br"));
			for (var j=0; j<fates.length-1; j++){
				fates[j] = fates[j+1];
			}
			fates.pop();
		}
	
		temp.appendChild(par);
		day.insertBefore(temp, day.children[day.childElementCount-1]);
		day.style.visibility = "visible";
		stats.style.visibility = "hidden";
	}
	
	function cornucopiaNow(){
		var done = [];
		var fates = [];
		var notDone = 0;
		
		for (var i=0; i<num; i++){
			done.push(false);
			notDone++;
		}
		
		
		while (notDone != 0){
			var r = rand(num);
			if (done[r]){
				while (done[r]){
					if (r === allNames.length-1){
						r = 0;
					}
					else {
						r++;
					}
				}
			}
			
			done[r] = true;
			notDone--;
			
			switch(cornucopia[rand(cnum)]){
				case "run": 
					fates.push(allNames[r] + " runs away from the Cornucopia.");
					break;
				case "supply":
					var z = rand(inum);
					fates.push(allNames[r] + " finds " + itemsToFind[z] + " in the Cornucopia.");
					playerItems[r].push(itemsToFind[z]);
					break;
				case "weapon":
					var z = rand(wnum);
					fates.push(allNames[r] + " finds " + weapons[z] + " in the Cornucopia.");
					playerItems[r].push(weapons[z]);
					if (fates[fates.length-1].indexOf("melee") > 0){
						z = rand(mnum);
						fates[fates.length-1] = allNames[r] + " finds " + melee[z] + " in the Cornucopia.";
						playerItems[r][playerItems[r].length-1] = melee[z];
					}
					break;
				case "battle":	
					if (notDone === 0){
						fates.push(allNames[r] + " runs away from the Cornucopia.");
						break;
					}
					else {
						var q = rand(allNames.length);
						if (done[q]){
							while (done[q]){
								if (q === allNames.length-1){
									q = 0;
								}
								else {
									q++;
								}
							}
						}
						var enemy = allNames[q];
						var fate = rand(4);
						var ult = allNames[r] + " battles " + enemy + ". ";
						if (fate === 0){
							ult += allNames[r] + " defeats " + enemy + ", but decides to spare " + proPos[q] + " life.";
						}
						else if (fate === 1){
							ult += allNames[r] + " defeats and kills " + enemy;
							deathBools[q] = false;
							summary.push(ult);
							kills[r]++;
							numDeaths++;
						}
						else if (fate === 2){
							ult += enemy + " defeats " + allNames[r] + ", but decides to spare " + proPos[r] + " life.";
						}
						else if (fate === 3){
							ult += enemy + " defeats and kills " + allNames[r];
							deathBools[r] = false;
							summary.push(ult);
							kills[q]++;
							numDeaths++;
						}
						done[q] = true;
						notDone--;
						fates.push(ult);
						break;
					}
			}
		}
			
		var temp = document.createElement("div");
		var p = document.createElement("p");
			
		for (var i=fates.length-1; i>=0; i--){
			p.appendChild(document.createTextNode(fates.pop()));
			p.appendChild(document.createElement("br"));
		}
			
		temp.appendChild(p);
		corn.insertBefore(temp, corn.children[corn.childElementCount-1]);
		stats.style.visibility = "hidden";	
	}
	
	function rand(x){
		return Math.floor(Math.random()*x);
	}
	
	function injureOne(x){
		if (playerInj[x]){
			playerInj[x] = false;
		}
		else {
			playerInj[x] = true;
			deathBools[x] = false;
			numDeaths++;
		}
	}
	
	function injureTwo(x,y){
		if (playerInj[y]){
			playerInj[y] = false;
		}
		else {
			playerInj[y] = true;
			deathBools[y] = false;
			kills[x]++;
		}
	}
	
	function pleaseHeal(x){
		playerInj[x] = true;
	}
	
	function liveChampion(x){
		var y = rand(num);
		while (!deathBools[y] || y === x){
			if (y === num-1){
				y = 0;
			}
			else {
				y++;
			}
		}
		return y;
	}
	
	function discardItem(x){
		for (var i=0; i<playerItems[x].length-1; i++){
			playerItems[x][i] = playerItems[x][i+1];
		}
		playerItems[x].pop();
	}
	
	function xDies(x){
		deathBools[x] = false;
		numDeaths++;
		playerInj[x] = true;
	}
	
	function xKillsY(x,y){
		deathBools[y] = false;
		numDeaths++;
		kills[x]++;
		playerInj[y] = true;
	}
	
	function dayClear(){
		day.removeChild(day.children[day.childElementCount-2]);
	}
	
	function declareWinner(){
		var count = 0;
		
		for (var i=0; i<deathBools.length; i++){
			if (deathBools[i]){
				count++;
			}
		}
		
		if (count === 1){
			document.getElementById("declare").innerHTML = "<strong>" + allNames[deathBools.indexOf(true)] + "</strong>";
			if (kills[deathBools.indexOf(true)] === 1){
				document.getElementById("champKills").textContent = kills[deathBools.indexOf(true)] + " Kill";
			}
			else {
				document.getElementById("champKills").textContent = kills[deathBools.indexOf(true)] + " Kills";
			}
			winner.style.visibility = "visible";
			stats.style.visibility = "hidden";
			return true;
		}
		else {
			return false;
		}
	}
	
	function toSummary(){
		var temp = document.createElement("div");
		var p = document.createElement("p");
		
		for (var i=0; i<summary.length; i++){
			p.appendChild(document.createTextNode(summary[i]));
			p.appendChild(document.createElement("br"));
		}
		var h = document.createElement("h3");
		h.appendChild(document.createTextNode(allNames[deathBools.indexOf(true)] + " is the champion!"));
		temp.appendChild(p);
		temp.appendChild(h);
		finalSum.insertBefore(temp, finalSum.children[finalSum.childElementCount-2]);
		
		finalSum.style.visibility = "visible";
		winner.style.visibility = "hidden";
	}
	
	function clearGames(){
		allNames = [];
		deathBools = [];	
		kills = [];
		alreadyDead = [];
		pro = [];
		proPos = [];
		playerItems = [];
		playerInj = [];
		dayClear();
		dayCounter = 0;
		
		console.log(allNames);
		
		for (var i=0; i<num; i++){
			names.removeChild(names.children[names.childElementCount-2]);
		}
		
		first.style.visibility = "visible";
		visibleStuff();
	}
	
	function sameTributes(){
		dayCounter = 0;
		deathBools = [];
		kills = [];
		alreadyDead = [];
		playerItems = [];
		playerInj = [];
		dayClear();
		visibleStuff();
	}
	
	function visibleStuff(){
		stats.style.visibility = "visible";
		names.style.visibility = "visible";
		corn.style.visibility = "visible";
		day.style.visibility = "visible";
		cannon.style.visibility = "visible";
		winner.style.visibility = "hidden";
		finalSum.style.visibility = "hidden";
		
		for (var i=0; i<num; i++){
			stats.removeChild(stats.children[stats.childElementCount-1]);
		}
		
		corn.removeChild(corn.children[corn.childElementCount-2]);
			
		finalSum.removeChild(finalSum.children[finalSum.childElementCount-3]);
		summary = [];
	}
	
	press.addEventListener("click",onClick);
	document.getElementById("confirmNames").addEventListener("click",registerNames);
	document.getElementById("proceedOne").addEventListener("click", proceedToDay);
	document.getElementById("proceedTwo").addEventListener("click", toDeaths);
	document.getElementById("proceedThree").addEventListener("click",toDeaths);
	document.getElementById("proceedFour").addEventListener("click",toStats);
	document.getElementById("proceedFive").addEventListener("click", toSummary);
	document.getElementById("restart").addEventListener("click", clearGames);
	document.getElementById("same").addEventListener("click", sameTributes);
	
</script>
</body>
</html>
